# Ответы на вопросы: Базовые типы данных

## 1. Какие базовые типы данных существуют в Go?

В Go существуют следующие базовые типы данных:
- **Целочисленные**: int, int8, int16, int32, int64, uint, uint8, uint16, uint32, uint64, uintptr
- **Числа с плавающей точкой**: float32, float64
- **Комплексные числа**: complex64, complex128
- **Булевский тип**: bool
- **Строки**: string
- **Специальные псевдонимы**: byte (uint8), rune (int32)

## 2. Чем отличаются int и int64 в Go? В каких случаях стоит использовать каждый из них?

`int` имеет размер, зависящий от архитектуры (32 бита на 32-битных системах, 64 бита на 64-битных), тогда как `int64` всегда занимает 64 бита. Используйте `int` для большинства случаев, особенно для индексов, счетчиков, длин и размеров, так как это наиболее эффективный тип для текущей архитектуры. Используйте `int64` когда требуется гарантированный размер для совместимости форматов данных, сериализации, взаимодействия с внешними API или когда нужны очень большие числа (>2^31-1) на 32-битных системах.

## 3. Как работают числа с плавающей точкой в Go? Какие особенности и потенциальные проблемы нужно учитывать?

Числа с плавающей точкой в Go реализованы по стандарту IEEE-754. Особенности и проблемы:
- Ограниченная точность (15-17 значащих цифр для float64)
- Неточное представление десятичных дробей (0.1 + 0.2 ≠ 0.3)
- Специальные значения: NaN, +Inf, -Inf
- Потеря точности при операциях с числами разного порядка
- Сравнение на равенство проблематично (используйте допустимую погрешность)
- Потенциальные проблемы с детерминизмом в распределенных системах

## 4. Какие ограничения имеют различные числовые типы в Go?

- **int8/uint8**: -128..127 / 0..255
- **int16/uint16**: -32,768..32,767 / 0..65,535
- **int32/uint32**: -2^31..2^31-1 / 0..2^32-1
- **int64/uint64**: -2^63..2^63-1 / 0..2^64-1
- **int/uint**: зависит от архитектуры (32 или 64 бита)
- **float32**: ~1.4e-45 до ~3.4e38, точность ~7 десятичных цифр
- **float64**: ~4.9e-324 до ~1.8e308, точность ~15-17 десятичных цифр
- **complex64/complex128**: комбинация двух float32/float64 соответственно

## 5. Что такое rune в Go и в каких случаях используется?

`rune` — это псевдоним для `int32`, представляющий Unicode code point (символ). Используется для работы с отдельными символами, особенно в многоязычных текстах, где символы могут занимать несколько байтов в UTF-8. Применяется при итерации по символам строки (через `for range`), при обработке Unicode-символов, при преобразовании между строками и символами, и при работе с функциями из пакета `unicode`.

## 6. Как реализованы строки в Go? Какая у них внутренняя структура?

Строки в Go — это неизменяемые последовательности байтов (не символов). Внутренне строка представлена структурой с двумя полями:
- Указатель на массив байтов (данные)
- Длина в байтах (int)

Строки могут содержать любые байты, включая нулевые, и по умолчанию интерпретируются как UTF-8, хотя это не проверяется и не требуется.

## 7. Почему строки в Go иммутабельны? Какие последствия это имеет?

Строки иммутабельны для:
- Безопасности (предотвращение изменения строковых литералов)
- Эффективности (возможность безопасного совместного использования данных)
- Хеширования (неизменяемость гарантирует стабильность хеш-значений)
- Многопоточности (безопасность без синхронизации)

Последствия:
- Любая модификация создает новую строку
- Подстроки могут использовать тот же базовый массив (эффективно)
- Конкатенация требует выделения новой памяти (используйте strings.Builder для эффективности)
- Безопасность в многопоточной среде без дополнительной синхронизации

## 8. Как работает сравнение чисел с плавающей точкой в Go? Какие есть нюансы?

Сравнение выполняется согласно IEEE-754:
- Операторы `==` и `!=` сравнивают битовые представления
- NaN не равен ничему, включая себя (`NaN != NaN`)
- +0.0 равно -0.0
- Из-за ограниченной точности, прямое сравнение на равенство часто некорректно

Рекомендуемый подход — использование допустимой погрешности (epsilon):
```
math.Abs(a-b) < epsilon
```
или для относительной погрешности:
```
math.Abs(a-b) < epsilon*math.Max(math.Abs(a), math.Abs(b))
```

## 9. Что такое битовые операции и для чего они используются в Go?

Битовые операции манипулируют отдельными битами в числах:
- `&` (AND): установка флагов, маскирование битов
- `|` (OR): объединение флагов, установка битов
- `^` (XOR): переключение битов, простое шифрование
- `&^` (AND NOT): сброс битов
- `<<` (сдвиг влево): умножение на степени 2, создание битовых масок
- `>>` (сдвиг вправо): деление на степени 2

Применения:
- Эффективное хранение флагов (permissions, options)
- Оптимизация вычислений (умножение/деление на степени 2)
- Низкоуровневое программирование (работа с регистрами, протоколы)
- Хеширование и криптография
- Компактное хранение данных (битовые поля)

## 10. Какие есть методы оптимизации работы с константами в Go?

- **Константы без типа**: позволяют избежать явных преобразований типов
- **Именованные константы**: улучшают читаемость и поддерживаемость
- **iota**: автоматическая нумерация для перечислений
- **Константные выражения**: вычисляются на этапе компиляции
- **Высокая точность**: константы имеют как минимум 256 бит точности при вычислениях
- **Группировка констант**: улучшает читаемость и организацию кода
- **Константные указатели**: невозможны, но можно использовать функции, возвращающие адрес предопределенных значений
- **Использование в switch/case**: компилятор может оптимизировать в jump table
- **Inline-константы**: компилятор может встраивать значения для оптимизации
