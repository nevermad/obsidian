[Вернуться к списку вопросов](3.%20Список%20вопросов)
## Короткий ответ

**BFT (Byzantine Fault Tolerance)** — это способность системы достигать консенсуса и продолжать корректно функционировать даже при наличии злонамеренных или неправильно работающих узлов. Метрика BFT описывает, сколько узлов может быть компрометировано, чтобы система оставалась работоспособной.

---

## Подробный разбор

### Основная идея BFT

1. **Что это?**
   - Распределённая система обладает византийской устойчивостью, если она может корректно функционировать, несмотря на некорректное или злонамеренное поведение части узлов.

2. **Предел устойчивости**:
   - Система считается BFT, если она может выдержать до $$ \lfloor \frac{N-1}{3} \rfloor $$ злонамеренных узлов, где \( N \) — общее количество узлов.

3. **Пример**:
   - Если \( N = 10 \), система выдерживает до $$ \lfloor \frac{10-1}{3} \rfloor = 3 $$ злонамеренных узлов.

---

### Задача византийских генералов

1. **Описание проблемы**:
   - Генералы армии пытаются договориться о времени нападения.
   - Некоторые из них могут быть предателями и отправлять противоречивую информацию.

2. **Решение**:
   - Для достижения консенсуса требуется, чтобы:
     - Честные узлы имели одинаковую информацию.
     - Система была устойчива к сообщениям от предателей.

3. **Пример в блокчейне**:
   - Узлы согласовывают, какой блок должен быть добавлен следующим.
   - Даже если часть узлов пытается включить злонамеренные блоки, консенсус сохраняется.

---

### Метрики BFT

1. **Safety (безопасность)**:
   - Система не принимает два противоречивых решения.

2. **Liveness (жизнеспособность)**:
   - Система продолжает работу, даже если часть узлов недоступна.

3. **Fault Tolerance (устойчивость к сбоям)**:
   - Система выдерживает определённое количество злонамеренных узлов.

---

### Применение BFT

1. **PBFT (Practical Byzantine Fault Tolerance)**:
   - Используется в корпоративных блокчейнах, таких как Hyperledger Fabric.
   - Гарантирует согласование между узлами при условии, что не более $$ \lfloor \frac{N-1}{3} \rfloor $$ узлов злонамеренные.

2. **Блокчейны с консенсусом Proof of Stake (PoS)**:
   - Например, Ethereum использует механизмы византийской устойчивости для предотвращения атак и согласования блоков.

3. **Распределённые базы данных**:
   - Византийская устойчивость помогает гарантировать целостность данных даже при сбоях.

---

### Связанные темы

- [[Что такое задача византийских генералов? Какую проблему решает?]]
- [[Перечислите предположения PBFT. Опишите потенциальные проблемы, которые могут произойти если пренебречь любым из предположений.]]
- [[Как BFT применяется в блокчейне? Соотнесите сущности блокчейна системы с ролями или действиями BFT.]]

---

### Источники

1. [Byzantine Generals Problem](https://lamport.azurewebsites.net/pubs/byz.pdf)
2. [PBFT Algorithm Overview](https://medium.com/consensus-algorithms/practical-byzantine-fault-tolerance-explained-69256cf5e648)
3. [Understanding Byzantine Fault Tolerance](https://jepsen.io/)

---