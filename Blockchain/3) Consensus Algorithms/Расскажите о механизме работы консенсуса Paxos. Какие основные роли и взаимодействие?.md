---
tags: [блокчейн, распределенные-системы, paxos, консенсус, алгоритмы-консенсуса, proposer, acceptor, learner]
aliases: [Paxos алгоритм, Paxos консенсус, работа Paxos]
---

## Короткий ответ:

Paxos - это алгоритм консенсуса, который позволяет распределенной системе достичь соглашения о едином значении. Он использует три основные роли: Proposer (предлагающий), Acceptor (принимающий) и Learner (обучающийся), которые взаимодействуют через обмен сообщениями для достижения консенсуса.

## Подробный разбор:

**Роли в Paxos:**

* **Proposer (Предлагающий):** Узел, который предлагает значение для согласования.  Proposer генерирует предложения с уникальным номером и значением.
* **Acceptor (Принимающий):** Узел, который решает, принимать или отклонять предложения от Proposer. Acceptors  хранят информацию о принятых предложениях и дают обещания не принимать предложения с меньшими номерами.  Они играют ключевую роль в обеспечении согласованности.
* **Learner (Обучающийся):** Узел, который узнает о принятом значении. Learners пассивно получают информацию от Acceptors  и приходят к соглашению о принятом значении.  Они не участвуют в процессе принятия решений.  В некоторых реализациях, роли Acceptor и Learner могут быть объединены.


**Взаимодействие:**

Paxos работает в две основные фазы: **Prepare** и **Accept**, которые были подробно описаны в заметке [[Что происходит в phase 1, phase 2? Что такое n, v?]].  Вкратце:

1. **Phase 1: Prepare:** Proposer отправляет сообщение Prepare Acceptors с номером предложения. Acceptors отвечают Promise, если номер предложения больше любого ранее виденного.
2. **Phase 2: Accept:**  Если Proposer получает большинство Promises, он отправляет Accept сообщение с выбранным значением. Acceptors принимают значение, если номер предложения соответствует их Promise.


**Достижение консенсуса:**

Консенсус достигается, когда большинство Acceptors принимают одно и то же значение. Learners узнают о принятом значении, получая сообщения от Acceptors.  Paxos гарантирует, что:

* **Только одно значение будет выбрано:** Алгоритм предотвращает одновременное принятие нескольких значений.
* **Выбранное значение не будет изменено:**  После того, как значение принято большинством, оно становится окончательным.


**Сложности и оптимизации:**

Paxos  может быть сложным в реализации и  понимании. Существуют различные оптимизации и модификации Paxos,  например, Multi-Paxos, которые улучшают его производительность и упрощают использование.


## Связанные темы:

* [[Что происходит в phase 1, phase 2? Что такое n, v?]]
* [[Что такое Quorum?]]
* [[Опишите суть проблемы последовательного принятия предложений?]]
* [Вернуться к списку вопросов](3.%20Список%20вопросов)


## Источники:

* [Paxos Made Simple](https://lamport.azurewebsites.net/pubs/paxos-simple.pdf)