---
tags: [блокчейн, bitcoin, консенсус, форк, proof-of-work, сложность-сети]
aliases: [разрешение форков, bitcoin fork, forking]
---

## Короткий ответ:

В Bitcoin форки разрешаются с помощью правила "самой длинной цепочки": узлы всегда выбирают цепочку с наибольшей суммарной сложностью (накопленной работой),  что в большинстве случаев соответствует самой длинной цепочке.

## Подробный разбор:

**Что такое форк в Bitcoin?**

Форк (ответвление) возникает, когда два или более майнера одновременно находят решение для нового блока, создавая параллельные ветви блокчейна.  Это приводит к временному существованию нескольких версий цепочки блоков.


**Как Bitcoin разрешает форки:**

Bitcoin использует правило **"самой длинной цепочки"** (longest chain rule) или, точнее, **"цепочки с наибольшей суммарной сложностью"** для разрешения форков.  

* **Суммарная сложность:** Это общее количество вычислительной работы, затраченной на создание всех блоков в цепочке. Она является более точным показателем, чем просто длина цепочки, так как учитывает сложность майнинга каждого блока.
* **Выбор цепочки:** Узлы в сети Bitcoin всегда принимают и продолжают строить **цепочку с наибольшей суммарной сложностью**.  


**Процесс разрешения форка:**

1. **Возникновение форка:** Два майнера находят новые блоки одновременно.
2. **Параллельный майнинг:**  Другие майнеры начинают строить блоки на основе  разных версий цепочки.
3. **Разрешение форка:** Как только одна из цепочек становится длиннее (имеет большую суммарную сложность), остальные майнеры переключаются на нее.  Блоки из более коротких цепочек становятся **orphan blocks** (осиротевшими блоками).


**Почему это работает:**

* **Вероятность:**  Вероятность одновременного нахождения блоков несколькими майнерами мала.
* **Сложность:** Чем больше блоков добавлено в цепочку, тем сложнее ее "переписать", так как для этого потребуется затратить огромное количество вычислительной мощности.  Это делает атаки на блокчейн  экономически невыгодными.


## Связанные темы:

* [[Что такое атака 51%?]]
* [[Что такое сложность сети, от чего зависит? Как меняется сложность во времени? Что произойдет если не обновлять сложность?]]
* [[Расскажите о финализации блоков в Bitcoin.]]
* [[Что такое orphan block?]]
* [Вернуться к списку вопросов](3.%20Список%20вопросов)


## Источники:

* [Bitcoin Developer Documentation: Block Chain](https://developer.bitcoin.org/devguide/block_chain.html)