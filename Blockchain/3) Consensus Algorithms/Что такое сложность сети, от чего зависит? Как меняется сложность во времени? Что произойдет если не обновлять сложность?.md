[Вернуться к списку вопросов](3.%20Список%20вопросов)
## Короткий ответ

Сложность сети в **Bitcoin** определяет, насколько сложно майнерам найти подходящий хэш для добавления блока. Сложность корректируется каждые 2016 блоков (~2 недели), чтобы поддерживать среднее время создания блока около 10 минут. Если сложность не будет обновляться, это нарушит баланс времени создания блоков и безопасности сети.

---

## Подробный разбор

### Что такое сложность?

1. **Определение**:
   - Сложность — это параметр, который регулирует вычислительные затраты для майнинга блока.
   - Она выражается через **target**, который задаёт верхний предел для хэша блока.

2. **Формула сложности**:
   $$
   Difficulty = \frac{Maximum \, Target}{Current \, Target}
   $$

---

### От чего зависит сложность?

1. **Хэшрейт**:
   - Увеличение вычислительных мощностей сети (хэшрейта) требует повышения сложности.

2. **Время создания блоков**:
   - Если блоки создаются быстрее 10 минут, сложность увеличивается.
   - Если медленнее — уменьшается.

---

### Как меняется сложность?

1. **Пересчёт сложности**:
   - Каждые 2016 блоков сложность корректируется:
     $$
     New \, Difficulty = Current \, Difficulty \times \frac{Actual \, Time}{Expected \, Time}
     $$
   - Если сеть создала 2016 блоков за 14 дней:
     - Сложность не изменится.
   - Если быстрее 14 дней:
     - Сложность увеличится.

2. **Пример**:
   - Текущая сложность: \( 10^{12} \).
   - Блоки созданы за 13 дней:
     $$
     New \, Difficulty = 10^{12} \times \frac{13}{14}
     $$

---

### Что произойдёт, если не обновлять сложность?

1. **Дисбаланс сети**:
   - При росте хэшрейта блоки будут создаваться слишком быстро.
   - Это снизит безопасность сети и увеличит вероятность форков.

2. **Замедление сети**:
   - Если хэшрейт упадёт, блоки будут создаваться слишком медленно, что ухудшит пользовательский опыт.

3. **Пример сценария**:
   - Сложность не обновляется, а хэшрейт падает на 50%.
   - Среднее время создания блока удваивается до 20 минут.

---

### Связанные темы

- [[Основная идея и механизм работы POW(Bitcoin version)?]]
- [[Какую математическую задачу решают майнеры в POW? Почему это энерго-затратно и безопасно? Что такое соревнование мощностей?]]
- [[Что такое атака 51%?]]

---

### Источники

1. [Bitcoin Difficulty Adjustment](https://en.bitcoin.it/wiki/Difficulty)
2. [Understanding Difficulty in Bitcoin Mining](https://www.coindesk.com/learn/what-is-bitcoin-difficulty/)
3. [Difficulty in Blockchain Networks](https://blockgeeks.com/introduction-to-bitcoin-mining-difficulty/)

---