---
title: Почему Nonce увеличивается после каждой транзакции?
tags: [EVM, Ethereum, Аккаунты, Nonce, Транзакции, Безопасность]
---

## Короткий ответ

Nonce увеличивается после каждой транзакции для предотвращения повторного использования транзакций (replay-атак) и обеспечения порядка выполнения транзакций от одного отправителя.


## Подробный разбор


Как было описано в заметке [[Что такое Nonce в состоянии аккаунта?]], nonce - это счетчик транзакций, связанный с каждым аккаунтом. Увеличение nonce после каждой транзакции выполняет две важные функции:

**1. Предотвращение Replay-атак:**

Если nonce не увеличивался бы, злоумышленник мог бы перехватить валидную транзакцию и повторно отправить ее в сеть.  Поскольку все параметры транзакции (кроме nonce) остаются неизменными,  она была бы выполнена повторно, что привело бы к нежелательным последствиям, например, двойному списанию средств.

Увеличение nonce делает каждую транзакцию уникальной.  Повторная отправка транзакции с уже использованным nonce будет отклонена сетью как невалидная.

**2. Гарантия порядка транзакций:**

Nonce обеспечивает правильный порядок обработки транзакций от одного отправителя.  Если пользователь отправляет несколько транзакций одновременно,  сеть может получить их в разном порядке. Nonce позволяет определить корректную последовательность выполнения,  гарантируя, что транзакции будут выполнены в том порядке, в котором они были созданы отправителем.


## Пример

Представьте, что вы отправляете два перевода с вашего банковского счета: 100 ETH и 50 ETH.  Если бы nonce не увеличивался, банк мог бы случайно обработать эти транзакции в обратном порядке, списав сначала 50 ETH, а затем 100 ETH.  Nonce гарантирует, что транзакции будут выполнены в правильной последовательности.


## Связанные темы

* [Вернуться к списку вопросов](4.%20Список%20вопросов.md)
* [[Что такое Nonce в состоянии аккаунта?]]
* [[Что такое replay-attack? Как защититься?]]
* [[Как транзакция выполняется на уровне EVM? Может ли измениться code storage аккаунта? Что происходит со storage аккаунта?]]


---