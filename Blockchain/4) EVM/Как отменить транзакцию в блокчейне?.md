---
title: Как отменить транзакцию в блокчейне?
tags: [EVM, Ethereum, Транзакции, Отмена транзакций, Безопасность]
---

## Короткий ответ

Отменить транзакцию в блокчейне Ethereum, которая уже была включена в блок, **невозможно**.  Однако, можно предотвратить ее включение в блок или создать новую транзакцию, которая обращает вспять действие предыдущей.


## Подробный разбор

**Неизменность блокчейна:**

Одним из фундаментальных свойств блокчейна является его неизменность. После того, как транзакция была подтверждена и включена в блок, ее нельзя изменить или удалить. Это гарантирует целостность и безопасность данных в блокчейне.

**Способы предотвращения включения транзакции:**

* **Отмена транзакции до ее подтверждения:**  Если транзакция еще не была включена в блок,  ее можно попытаться отменить, отправив новую транзакцию с тем же nonce, но с более высокой gas price.  Майнеры, скорее всего, выберут новую транзакцию с более высокой оплатой, а старая транзакция останется в mempool и в конечном итоге будет отброшена. Этот способ не гарантирует отмену, но повышает шансы на успех.

**Способы обращения действия транзакции:**

* **Функция отмены в смарт-контракте:**  Если транзакция взаимодействует со смарт-контрактом,  можно предусмотреть в коде контракта специальную функцию, которая позволяет отменить или обратить действие предыдущей транзакции.  Например, функция `refund` может вернуть средства отправителю.

* **Новая транзакция, обращающая действие:**  Можно создать новую транзакцию, которая выполняет обратное действие предыдущей.  Например, если первая транзакция перевела средства, новая транзакция может перевести их обратно.  Этот способ требует тщательного планирования и реализации.


## Важно понимать:

* Отмена транзакции в блокчейне - это сложная задача, и не всегда возможно полностью обратить ее действие.
* Предотвращение нежелательных транзакций  важнее, чем попытки их отмены после подтверждения.  Внимательно проверяйте все параметры транзакции перед отправкой.


## Связанные темы

* [Вернуться к списку вопросов](4.%20Список%20вопросов.md)
* [[Что такое Nonce в состоянии аккаунта?]]
* [[Почему Nonce увеличивается после каждой транзакции?]]
* [[В чем различие Gas Price и Gas Limit?]]
* [[Как транзакция выполняется на уровне EVM? Может ли измениться code storage аккаунта? Что происходит со storage аккаунта?]]


---