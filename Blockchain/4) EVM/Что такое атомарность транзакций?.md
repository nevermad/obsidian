---
title: Что такое атомарность транзакций?
tags: [EVM, Ethereum, Транзакции, Атомарность, Безопасность]
---

## Короткий ответ

Атомарность транзакций означает, что транзакция выполняется **целиком или не выполняется вообще**.  Если в процессе выполнения транзакции возникает ошибка, все изменения отменяются, и состояние блокчейна возвращается к предыдущему состоянию.  "Все или ничего".



## Подробный разбор

**Принцип "все или ничего":**

Атомарность транзакций - это гарантия того, что все операции within a transaction (внутри транзакции) будут выполнены успешно, или ни одна из них не будет выполнена. Если хотя бы одна операция завершается ошибкой, вся транзакция отменяется, и состояние блокчейна остается неизменным.

**Зачем нужна атомарность?**

Атомарность обеспечивает **целостность данных** и предотвращает возникновение **несогласованных состояний** в блокчейне.  Без атомарности, частичное выполнение транзакции могло бы привести к непредсказуемым последствиям и нарушению логики работы смарт-контрактов.


**Пример:**

Представьте, что вы хотите купить товар в интернет-магазине, используя смарт-контракт. Транзакция включает в себя два действия: списание средств с вашего счета и перевод ownership (владения) товаром на ваш адрес.  Если бы транзакции не были атомарными,  могла бы возникнуть ситуация, когда средства списаны, но товар не передан.  Атомарность гарантирует, что либо обе операции будут выполнены успешно, либо ни одна из них.


## Связанные темы

* [Вернуться к списку вопросов](4.%20Список%20вопросов.md)
* [[Почему нужно платить fee за выполнение если транзакция отменилась из-за ошибки?]]
* [[Как транзакция выполняется на уровне EVM? Может ли измениться code storage аккаунта? Что происходит со storage аккаунта?]]


## Источники

* [Ethereum Documentation - Transactions](https://ethereum.org/en/developers/docs/transactions/)
* [Wikipedia - Atomicity (database systems)](https://en.wikipedia.org/wiki/Atomicity_(database_systems))



---