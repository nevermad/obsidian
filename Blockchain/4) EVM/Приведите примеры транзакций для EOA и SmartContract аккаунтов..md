---
title: Примеры транзакций для EOA и SmartContract аккаунтов
tags: [EVM, Ethereum, Транзакции, EOA, Smart Contract, Примеры]
---

## Короткий ответ

EOA инициирует транзакции для перевода Ether или вызова функций контрактов. Smart Contract инициирует внутренние транзакции при взаимодействии с другими контрактами.


## Подробный разбор

**Примеры транзакций для EOA:**

1. **Перевод Ether:** Алиса (EOA) отправляет Бобу (EOA) 1 ETH.

    * `from`: Адрес Алисы
    * `to`: Адрес Боба
    * `value`: 1 ETH
    * `data`: Пусто (нет данных для вызова функции)
    * `gasPrice`, `gasLimit`:  Устанавливаются Алисой


2. **Вызов функции контракта:** Алиса (EOA) вызывает функцию `deposit(1 ETH)` в контракте банка.

    * `from`: Адрес Алисы
    * `to`: Адрес контракта банка
    * `value`: 1 ETH (если функция принимает Ether)
    * `data`:  Encoded call data (закодированные данные вызова) для функции `deposit` с параметром 1 ETH.
    * `gasPrice`, `gasLimit`: Устанавливаются Алисой


**Примеры транзакций (внутренних) для Smart Contract:**

1. **Перевод Ether между контрактами:** Контракт A отправляет контракту B 0.5 ETH.

    *  Инициируется внутри кода контракта A.
    * `from`: Адрес контракта A
    * `to`: Адрес контракта B
    * `value`: 0.5 ETH
    * `data`:  Может быть пустым или содержать данные, если вызывается функция контракта B.


2. **Вызов функции другого контракта:** Контракт A вызывает функцию `withdraw(amount)` в контракте B.

   * Инициируется внутри кода контракта A.
   * `from`: Адрес контракта A
   * `to`: Адрес контракта B
   * `value`:  Обычно 0 (если функция `withdraw` не принимает Ether)
   * `data`: Encoded call data (закодированные данные вызова) для функции `withdraw` с параметром `amount`.



**Важно:**

* **Внутренние транзакции:** Транзакции, инициируемые смарт-контрактами, называются internal transactions (внутренними транзакциями) или  message calls (вызовами сообщений). Они не имеют `v`, `r`, `s`  компоненты подписи, так как они выполняются в контексте already signed transaction (уже подписанной транзакции).


## Связанные темы

* [Вернуться к списку вопросов](4.%20Список%20вопросов.md)
* [[Что такое EOA? Имеет ли он приватный ключ? Может ли хранить произвольные данные ? Может ли хранить код? Кто контролирует аккаунт?]]
* [[Что такое SmartContract? Может ли иметь приватный ключ? Может ли хранить произвольные данные ? Может ли хранить код? Кто контролирует аккаунт?]]
* [[Основные поля и структура транзакции.]]
* [[Может ли смарт контракт инициировать транзакцию?]]



## Источники

* [Ethereum Documentation - Transactions](https://ethereum.org/en/developers/docs/transactions/)
* [Solidity Documentation - Calling Other Contracts](https://docs.soliditylang.org/en/v0.8.17/contracts.html#calling-other-contracts)


---