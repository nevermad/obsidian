---
title: Как рассчитать Transaction fee?
tags: [EVM, Ethereum, Транзакции, Gas, Fee, Gas Price, Gas Limit]
---

## Короткий ответ

Transaction fee рассчитывается как произведение **gas used** (использованного газа) и **gas price**:

`Transaction Fee = Gas Used * Gas Price`


## Подробный разбор

**Gas Used (использованный газ):**

* **Фактические затраты:**  Gas Used - это количество gas,  **фактически затраченное** на выполнение транзакции.  Это значение определяется после выполнения транзакции.
* **Зависит от сложности:** Gas Used зависит от complexity (сложности)  транзакции:  простой перевод Ether потребляет меньше gas, чем вызов complex smart contract function (сложной функции смарт-контракта).


**Gas Price (цена газа):**

* **Ставка за gas:** Gas Price - это сумма в **Wei**, которую пользователь готов заплатить за единицу gas. (см. [[Размерность wei, gwei, ether?]])  
* **Влияет на скорость:** Более высокий Gas Price увеличивает вероятность того, что майнеры включат транзакцию в блок быстрее.


**Gas Limit (лимит газа):**

* **Максимальные затраты:** Gas Limit - это  **максимальное** количество gas, которое пользователь готов потратить на транзакцию. (см. [[В чем различие Gas Price и Gas Limit?]])
* **Возврат неиспользованного газа:** Если транзакция использует меньше gas, чем указано в Gas Limit,  оставшийся gas  **возвращается** пользователю.


**Пример расчета:**

* **Gas Used:** 21,000 (стандартная стоимость для простого перевода Ether)
* **Gas Price:** 20 Gwei (20 * 10<sup>9</sup> Wei)

`Transaction Fee = 21,000 * (20 * 10^9) Wei = 420,000,000,000,000 Wei = 0.00042 ETH`


**Важно:**

* **Gas Used  ≠ Gas Limit:** Gas Used - это фактически использованный газ,  а Gas Limit - это максимальное разрешенное количество.
* **Изменение Gas Price:** С введением EIP-1559, механизм Gas Price стал более сложным и включает в себя **Base Fee** и **Priority Fee (Tip)**.


## Связанные темы

* [Вернуться к списку вопросов](4.%20Список%20вопросов.md)
* [[Что такое газ?]]
* [[В чем различие Gas Price и Gas Limit?]]
* [[Размерность wei, gwei, ether?]]



## Источники

* [Ethereum Documentation - Gas and Fees](https://ethereum.org/en/developers/docs/gas/)


---