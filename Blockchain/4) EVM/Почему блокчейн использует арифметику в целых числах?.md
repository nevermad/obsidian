---
title: Почему блокчейн использует арифметику в целых числах?
tags: [EVM, Ethereum, Целые числа, Вещественные числа, Арифметика, Безопасность, Детерминизм]
---

## Короткий ответ

Блокчейн использует арифметику в целых числах для обеспечения **детерминизма**, **безопасности** и **совместимости** между разными узлами сети.


## Подробный разбор

**Детерминизм (Determinism):**

* **Одинаковый результат на всех узлах:**  Вычисления в блокчейне должны быть детерминированными, то есть давать одинаковый результат на всех узлах сети, независимо от используемого оборудования или программного обеспечения.  Арифметика с целыми числами гарантирует детерминизм,  так как операции с целыми числами всегда дают predictable results (предсказуемые результаты).
* **Консенсус:** Детерминизм является critical (критически важным) для достижения консенсуса в блокчейне. Все узлы должны согласовать состояние блокчейна,  и это возможно только если все вычисления дают одинаковый результат.


**Безопасность (Security):**

* **Ошибки округления:** Вещественные числа подвержены  rounding errors (ошибкам округления),  которые могут накапливаться и приводить к  unexpected behavior (неожиданному поведению)  смарт-контрактов.  Использование целых чисел устраняет эту проблему.
* **Уязвимости:** Ошибки округления и неточности в вычислениях с вещественными числами могут быть exploited by attackers (использованы злоумышленниками) для получения advantage (преимущества).


**Совместимость (Compatibility):**

* **Кроссплатформенность:**  Разные процессоры и операционные системы могут обрабатывать вещественные числа по-разному.  Использование целых чисел обеспечивает consistent results (согласованные результаты)  на всех платформах.


**Сложность реализации:**

* **Проще реализовать:** Арифметические операции с целыми числами проще реализовать в EVM, чем операции с вещественными числами.


## Связанные темы

* [Вернуться к списку вопросов](4.%20Список%20вопросов.md)
* [[Что такое целые и вещественные числа?]]
* [[Как транзакция выполняется на уровне EVM? Может ли измениться code storage аккаунта? Что происходит со storage аккаунта?]]



## Источники

* [Why Floating Point Numbers Are Not Used in Ethereum Smart Contracts](https://solidity-by-example.org/0.8/solidity-fixed-point/)
* [Stack Exchange - Why doesn't Ethereum support floating point numbers?](https://ethereum.stackexchange.com/questions/107/why-doesnt-ethereum-support-floating-point-numbers)
* [Wikipedia - Floating-point Arithmetic](https://en.wikipedia.org/wiki/Floating-point_arithmetic)





---