
**Короткий ответ**: Блоки в блокчейне связаны через хэши. Каждый блок содержит хэш заголовка предыдущего блока, что обеспечивает линейную структуру цепочки и защищает данные от изменений.

---

## Подробный разбор

### Механизм связи блоков
1. **Хэш предыдущего блока**:
   - Каждый блок в своём заголовке содержит поле, хранящее хэш заголовка предыдущего блока.
   - Это значение уникально и зависит от всех данных предыдущего блока, включая:
     - Список транзакций.
     - Nonce.
     - Merkle Root.
   - Если данные предыдущего блока изменяются, его хэш становится недействительным, что нарушает всю цепочку.

2. **Цепочка хэшей**:
   - Связь блоков через хэши образует цепочку, где изменение любого блока требует пересчёта всех последующих.

3. **Пример структуры**:

Block N:

• Hash: abc123

• Hash of Previous Block: xyz789

Block N+1:

• Hash: def456

• Hash of Previous Block: abc123

---

### Защита от изменений
1. **Неизменность данных**:
- Хэш текущего блока зависит от хэша предыдущего. Любая попытка изменить данные в одном блоке потребует пересчёта хэшей всех последующих блоков.
- Это делает атаки практически невозможными без значительной вычислительной мощности.

2. **Proof of Work**:
- В сетях PoW (например, Bitcoin) майнеры должны вычислить правильный хэш для нового блока. Пересчёт требует повторного решения криптографической задачи для всех изменённых блоков.

---

### Пример атаки
1. **Попытка изменения транзакции**:
- Если злоумышленник хочет изменить транзакцию в блоке N, хэш этого блока изменится.
- Это сделает хэш поля `Hash of Previous Block` блока N+1 недействительным, и цепочка разорвётся.
- Злоумышленник должен пересчитать все хэши и решить задачи Proof of Work для каждого блока.

2. **Необходимость контроля сети**:
- Для успешной атаки злоумышленнику нужно обладать более 50% вычислительных мощностей сети (см. [[Может ли злонамеренный майнер, который создает блок потратить средства другого пользователя? Ответ детализируйте.]]).

---

### Преимущества связи блоков через хэши
1. **Целостность данных**:
- Любое изменение данных легко обнаруживается.
2. **Безопасность**:
- Невозможно изменить данные без переработки всей цепочки.
3. **Простая валидация**:
- Узлы могут быстро проверить, что блоки связаны и соответствуют правилам консенсуса.

---

### Связанные темы
- [[Структура блока, какие поля имеются и для чего нужны?]]
- [[Используется ли MerkleTree в блоке? Если да, то для чего?]]
- [[За счет чего достигается неизменность данных в блокчейне?]]

---

### Источники
1. [Bitcoin Developer Guide: Blockchain](https://bitcoin.org/en/developer-guide#block-chain-overview)
2. [How Blockchain Works](https://www.ibm.com/topics/what-is-blockchain)
3. [Merkle Trees in Blockchain](https://en.bitcoin.it/wiki/Merkle_tree)