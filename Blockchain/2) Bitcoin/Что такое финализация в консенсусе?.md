
**Короткий ответ**: Финализация — это процесс, при котором блок или транзакция становятся необратимыми в цепочке блоков. В Bitcoin финализация отсутствует, вместо неё используется вероятностная модель безопасности: транзакция считается практически необратимой после 6 подтверждений. В Proof of Stake сетях, таких как Ethereum, используется механизм голосования валидаторов для достижения финализации.

---

## Подробный разбор

### Финализация в разных консенсусах

1. **Proof of Work (Bitcoin)**:
   - В Bitcoin нет концепции абсолютной финализации. Вместо этого применяется **вероятностная модель**:
     - Чем больше блоков добавлено после текущего, тем сложнее откатить транзакцию.
     - После 6 подтверждений вероятность успешного форка (и отката транзакции) становится пренебрежимо малой.

2. **Proof of Stake (Ethereum)**:
   - Ethereum использует механизмы голосования валидаторов для финализации блоков:
     - Когда валидаторы достигают консенсуса, блок становится необратимым.
     - Финализированные блоки нельзя переписать, даже при наличии атак 51%.

---

### Почему финализация важна?
- **Неизменность**: Гарантирует, что блок и его транзакции останутся частью цепочки навсегда.
- **Защита от атак**:
  - В PoW атаки требуют значительных ресурсов, а в PoS — захваченного стейка.
- **Доверие пользователей**:
  - Финализация позволяет участникам сети быть уверенными, что их транзакции необратимы.

---

### Отличие вероятностной модели и финализации
1. **Вероятностная модель** (Bitcoin):
   - Необратимость блока не гарантируется, но вероятность отката уменьшается с увеличением числа подтверждений.
   - 6 подтверждений считаются безопасным стандартом.

2. **Финализация** (Ethereum и другие PoS сети):
   - Абсолютная необратимость достигается с помощью голосования валидаторов.
   - Процесс занимает фиксированное время, после чего блок становится окончательным.

---

### Пример в Bitcoin
- Если сеть добавляет 6 блоков после вашего, вероятность их переписывания становится незначительной.
- Узлы продолжают использовать вероятностный подход, чтобы учитывать возможные форки.

### Пример в Ethereum 2.0
- Блок считается финализированным после достижения согласия двух третьих валидаторов.
- Даже если часть валидаторов будет скомпрометирована, финализированный блок останется неизменным.

---

### Связанные темы
- [[Как происходит создание блока?]]
- [[Какую математическую задачку решают майнеры в POW консенсусе? Что конкретно они делают и какие критерии правильности решения задачи?]]
- [[Может ли злонамеренный майнер, который создает блок потратить средства другого пользователя? Ответ детализируйте.]]

---

### Источники
1. [Bitcoin Whitepaper](https://bitcoin.org/bitcoin.pdf)
2. [Ethereum Consensus Mechanism](https://ethereum.org/en/upgrades/consensus/)
3. [Blockchain Finality Explained](https://www.investopedia.com/terms/f/finality.asp)