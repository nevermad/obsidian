---
title: DeFi Patterns
tags:
  - Contracts
  - EVM
  - Вопросы
  - defi
  - erc
aliases:
  - контракты
  - вопросы
  - список
---
[[Что такое EIP?]]
[[Приведите 3-5 примеров популярных EIP и расскажите коротко о чем они?]]
[[Что такое ERC?]]
[[Приведите примеры популярных ERC и расскажите коротко о чем они?]]
[[Что такое и в чем различие fungible token, non-fungible token, semi-fungible token? Приведите примеры.]]
[[Опишите основные функции, события и особенности поведения ERC-20 токенов? Обратите внимание на обязательные и необязательные требования стандарта.]]
[[Какие проблемы есть у современной реализации функции transfer?]]
[[Что такое SafeERC?]]
[[С помощью каких функций израсходовать выданный approve ERC-20?]]
[[Опишите суть approve front-running attack?]]
[[Что такое double spending?]]
[[Опишите суть, преимущества и недостатки паттерна unlimited amount approval.]]
[[Опишите суть, преимущества и недостатки exact amount approval? Почему unlimited amount approval более распространен?]]
[[Alice имеет 7.65 токена(в человеческой интерпретации). Какой баланс храниться на контракте: для стандартного токена OpenZeppelin или для USDC?]]
[[Что такое unchecked блоки?]]
[[Как работает safeERCTransfer? Что происходит по шагам.]]
[[Опишите основные функции, события и особенности поведения ERC-721 токенов? Обратите внимание на обязательные и необязательные требования стандарта.]]
[[С помощью каких функций израсходовать выданный approve ERC-721?]]
[[Отличие работы transferFrom vs safeTransferFrom ERC-721?]]
[[Какие потенциальные проблемы и уязвимости могут произойти при наличии механизма обратных вызовов?]]
[[Опишите основные функции, события и особенности поведения ERC-721 токенов? Обратите внимание на обязательные и необязательные требования стандарта.]]
[[С помощью каких функций израсходовать выданный approve ERC-721?]]
[[Отличие работы safeTransferFrom vs safeBatchTransferFrom ERC-1155?]]
[[Как и где хранить медиа-данные NFT или SFT?]]
[[Что представляет из себя access control паттерн? Приведите примеры необходимости использования.]]
[[Расскажите идею и возможности паттерна Ownable. Какие функции контракт имеет? Как выдавать и забирать доступ?]]
[[Расскажите идею и возможности паттерна Ownable2Step. Какие функции контракт имеет? Как выдавать и забирать доступ?]]
[[Расскажите о работе role-based AccessControl OpenZeppelin. Какие функции контракт имеет? Как выдавать и забирать доступ? Кто является админом? Как работает DEFAULT_ADMIN_ROLE?]]
[[Что такое и как работает Multisig? Понятия quorum & threshold и как правильно выбирать эти параметры. Как происходит отправка транзакций из Multisig? Приведите популярные примеры имплементации.]]
[[Multisig 1:2 какие могут быть проблемы?]]
[[Какие требования следует предъявить к аккаунтам участников Multisig?]]
[[Что такое DAO?]]
[[Что такое и для чего необходим Governance Token? Как происходит процесс голосования? Как токен влияет на голосование?]]
[[Voting power и баланс Governance Token это одинаковые понятия?]]
[[При голосовании Governance Token блокируется? Как можно сделать не блокирующийся механизм?]]
[[Что такое rug pull? Приведите примеры реальных протоколов в которых злоумышленник смог реализовать эту атаку]]
[[By design EVM имеет неизменяемый байткод для контрактов. За счет каких механизмов получается обойти это ограничение и сделать контракт изменяемым?]]
[[Как работает delegatecall?]]
[[Какие значения msg.value, msg.sender при call, staticcall, delegatecall?]]
[[Расскажите подробно как работает паттерн proxy? Где хранится код, состояние, имплементация, какие есть преимущества и недостатки.]]
[[Как изменить implementation в proxy контракте?]]
[[Какие ограничения и особенности накладываются на storage proxy контракта? Каким способом согласовывать storage proxy и implementation?]]
[[Что такое storage collision? Расскажите о этой ошибке на примере реального протокола, ее последствия и способы предотвращения]]
[[Разработчик пытается заменить implementation в proxy контракте, какие ограничения мы должны учитывать в новой имплементации? Можем ли мы заменить proxy implementation от OpenZeppelin NFT токена на ERC20 имплементацию?]]
[[Какие функции есть в OpenZeppelin Proxy смарт-контракте? Сколько из них имеет selector? Каким образом вызовы перенаправляются в имплементацию?]]
[[Расскажите о стандарте ERC1967? Какая основная идея стандарта? Какой способ хранения слотов используется в этом стандарте? И почему?]]
[[Какие типы proxy вы знаете? Расскажите идею каждого. В каких протоколах и контрактах используются эти паттерны?]]
[[Расскажите о паттерне inherited storage. Как структурирован storage имплементации? Каким образом слоты storage располагаются при наследовании? Порядок A: B and C? Как определить порядок при множественном наследовании A: B and D, B: C, D: C?]]
[[Для чего используются gap переменные?]]
[[Расскажите о паттерне инициализации смарт-контрактов. Зачем он нужен если есть конструктор? Для чего используется в proxy?]]
[[Расскажите об атаке захвата имплементации proxy. Почему важно инициализировать proxy? В каких случаях захват может привести к проблемам? Как защититься?]]
[[Что такое и как работает Eternal storage?]]
[[Расскажите о Unstructured storage? Как работает? Какие преимущества и недостатки? Как гарантировать отсутствие коллизий? Рассчитайте вероятность коллизии при использовании unstructured storage для хранения 1_000 слотов.]]
[[Что такое Beacon? Зачем нужен, если есть обычный слот для implementation?]]
[[Расскажите как работает TransparentProxy. Как контракт понимает куда адресовать вызовы (в proxy или в implementation)? Какие проблемы могут быть при коллизии селекторов? Как их избежать?]]
[[Расскажите как работает UUPS. Как контракт понимает куда адресовать вызовы (в proxy или в implementation)?]]
[[Что такое Oracle? Какую проблему решают? Какие данные можно получать? Приведите примеры популярных оракулов.]]
[[Почему на блокчейне нельзя получить данные извне?]]
[[Как оракулы гарантируют надежность предоставляемых данных? Для чего используются и как работают P2P сети оракулов?]]
[[Расскажите о Chainlink Price Feed. Какие данные предоставляют? Как часто обновляют данные, откуда собирают данные?]]
[[Какие популярные протоколы используют оракулов и для чего?]]
[[Расскажите о базовой архитектуре оракулов.]]
[[Расскажите как работают on-chain оракулы цены. Каким образом оракулы гарантируют надежность данных о цене, не запрашивая их извне?]]
[[Что такое TWAP оракул? Как работает? Приведите примеры популярных реализаций?]]
[[Расскажите об атаке манипуляции ценой оракула. За счет чего происходит? Как защититься? Приведите примеры популярных протоколов, которые были атакованы этим способом.]]
[[Как работает CREATE, CREATE2 развертывание контрактов? Каким образом рассчитывается адрес развертываемого контракта через CREATE, CREATE2?]]

### Дополнительные материалы

[[Что такое и как работает Eternal storage?]]
[[Как изменить implementation в proxy контракте?]]
[[Как правильно обновлять proxy контракты?]]
[[Как работает механизм _mint и _burn в ERC-721 и ERC-1155?]]
[[Что такое DAO?]]
[[Какие требования следует предъявить к аккаунтам участников Multisig?]]
[[Какие потенциальные проблемы и уязвимости могут произойти при наличии механизма обратных вызовов?]]
[[Как работает механизм обратных вызовов в ERC-721 и ERC-1155?]]
[[Как работает механизм _beforeTokenTransfer и _afterTokenTransfer в ERC-721 и ERC-1155?]]
[[Как работает механизм tokenURI в ERC-721?]]
[[Как работает механизм supportsInterface в ERC-165?]]
[[Отличие работы transferFrom vs safeTransferFrom ERC-721?]]
[[С помощью каких функций израсходовать выданный approve ERC-721?]]
[[Что такое unchecked блоки?]]
[[Что такое double spending?]]
[[Опишите суть approve front-running attack?]]
[[С помощью каких функций израсходовать выданный approve ERC-20?]]
[[Что такое SafeERC?]]
[[Какие проблемы есть у современной реализации функции transfer?]]
[[Приведите примеры популярных ERC и расскажите коротко о чем они?]]